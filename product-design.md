# 彩虹桥（Rainbow Bridge）产品设计文档

> 版本：v1.0 | 日期：2026-02-21
> 为失去宠物的人建一座赛博纪念馆，为养不起猫的孩子提供虚拟陪伴，为流浪猫救助站输送资源。

---

## 一、产品愿景

**一句话定义：** 一个融合情感纪念、虚拟陪伴、链上永存和公益捐赠的宠物生命平台。

**产品名称：** 彩虹桥 / Rainbow Bridge
**前身：** 星光宠忆（已有落地页和纪念页原型）

**物种定位：** 以猫为品牌主打（传播力强、起源故事天然绑定），但纪念模块从第一天起支持所有宠物（猫/狗/兔/仓鼠/鸟/爬宠/鱼等）。虚拟猫咖以猫为核心，后续可扩展"隔壁狗狗乐园"等子区域。

**核心信念：**
- 每一只离开的毛孩子，都值得一颗永不熄灭的星
- 每一个想养宠物却养不起的孩子，都值得一份虚拟的温暖
- 每一笔消费，都应该让现实中的流浪猫多吃一口饭

**第一座纪念碑，留给小谦。**
小谦，一只只活了21个月的猫。这个项目因他而起。

---

## 二、用户画像

### 2.1 失去宠物的人（核心用户 - The Grieving）

| 维度 | 描述 |
|------|------|
| 年龄 | 20-40岁为主 |
| 场景 | 宠物刚离世或离世周年 |
| 痛点 | 无处安放思念，朋友圈发了怕矫情，不发又憋得慌 |
| 需求 | 一个专属的、有仪式感的纪念空间 |
| 付费意愿 | 中高（情感消费决策快，49-199元不犹豫） |
| 关键触发 | 宠物离世当天/7天/周年/生日 |

**用户故事：**
> 小雨的橘猫"年糕"上周走了。她在朋友圈发了一条，收到几个"抱抱"，然后就没了。她想要一个地方，能放年糕的照片、写给年糕的话，偶尔回来看看，知道有人也在想念年糕。

### 2.2 想养猫的孩子（增长引擎 - The Dreamers）

| 维度 | 描述 |
|------|------|
| 年龄 | 8-16岁 |
| 场景 | 家里不让养/过敏/经济条件不允许 |
| 痛点 | 想要一只"自己的猫"，哪怕是虚拟的 |
| 需求 | 养成、陪伴、探索、社交 |
| 付费意愿 | 低（但家长可能为教育意义付费） |
| 关键触发 | 同学在玩/社交媒体传播/学校推荐 |

**用户故事：**
> 10岁的小明特别想养猫，但妈妈说家里条件不允许。在彩虹桥里，他领养了一只虚拟橘猫叫"小鱼干"，每天喂食、玩耍、一起探索彩虹桥世界。小鱼干不会真的死，但小明学会了什么是责任和陪伴。

### 2.3 有钱的爱猫人（付费支柱 - The Patrons）

| 维度 | 描述 |
|------|------|
| 年龄 | 25-50岁 |
| 场景 | 养猫多年，经济宽裕，有公益心 |
| 痛点 | 想帮助流浪猫但不知道钱花到哪了 |
| 需求 | 透明的公益渠道 + 身份认同 + 社交货币 |
| 付费意愿 | 高（199元VIP + 额外捐赠） |
| 关键触发 | 看到流浪猫新闻/朋友推荐/公益报告 |

**用户故事：**
> 李姐养了三只猫，月入2万+。她在彩虹桥买了VIP，给自己的猫建了豪华纪念预留页（"希望永远用不上"），同时每月捐50元猫粮基金。她喜欢看公益报告里写着"您的捐赠为XX救助站的12只猫提供了一周口粮"。

---

## 三、核心模块设计

### 3.1 星空墓园（Starry Cemetery）

**概念：** 每只被纪念的宠物，都是夜空中的一颗星。用户进入星空墓园，看到的是一片真实的星空，每颗亮着的星都是一个生命的印记。

**核心交互：**

1. **星空全景（Star Map）**
   - 打开App/网页，首屏是一片可交互的星空
   - 每颗星的亮度 = 最近被访问/点蜡烛的频率（越多人想念，星星越亮）
   - 点击任意星星 → 进入该宠物的纪念馆
   - 支持搜索（按名字、种类、日期）
   - 支持"附近的星"（地理位置聚合，同城的毛孩子们）

2. **星星等级**
   - 🌟 普通星（免费用户）：白色小星点
   - ⭐ 恒星（49元用户）：金色，有光晕
   - 💫 超新星（199元用户）：彩色，有粒子特效，可自定义颜色
   - 🌈 彩虹星（时间赋予的荣耀）：七彩流光，不卖，只能靠时间和爱赢得

   **彩虹星升级条件（满足任一即可）：**
   - 纪念馆存在满3年（时间本身就是最重的纪念）
   - 累计收到1000支蜡烛（被很多人惦记着）
   - 付费用户 + 纪念馆存在满1年（付出过，也坚持了）
   
   彩虹星不是买来的，是长出来的。它代表"被长久记住"，而不是"花了多少钱"。

3. **纪念馆内页**
   - 继承现有 memorial-page.html 的设计语言
   - 照片墙（支持上传，按时间线排列）
   - 主人寄语（富文本，支持多次编辑）
   - AI纪念诗（见3.4节）
   - 蜡烛墙（访客点蜡烛 + 留言）
   - 时间胶囊（定时解锁的内容，如"一年后给自己的信"）
   - 背景音乐（可选，默认轻音乐）

4. **社交功能**
   - 分享链接/二维码（微信/朋友圈/微博）
   - "星座"功能：同一时期离开的宠物自动组成星座
   - 匿名点蜡烛（不需要注册就能点）

**技术要点：**
- 前端：Three.js / WebGL 渲染星空（移动端降级为Canvas 2D）
- 星星位置算法：基于注册时间 + 随机偏移，保证视觉均匀分布
- 性能：懒加载，视口内星星才渲染详情，支持10万+星星

---

### 3.2 虚拟猫咖（Virtual Cat Café）

**概念：** 一个温馨的虚拟空间，里面有各种性格的AI猫咪。用户可以"领养"一只，每天互动，建立情感连接。面向想养猫但养不起/不能养的孩子。

**核心玩法：**

1. **猫咪生成**
   - 基于AI生成独一无二的猫咪形象（像素风/手绘风可选）
   - 每只猫有随机性格标签：粘人/高冷/调皮/贪吃/胆小/话痨
   - 性格影响互动反馈（粘人猫会主动蹭你，高冷猫要你先讨好）

2. **日常互动**
   - 喂食（选择猫粮/小鱼干/罐头，不同食物不同反应）
   - 撸猫（触摸交互，猫会打呼噜/翻肚皮/炸毛）
   - 玩具（逗猫棒/激光笔/纸箱，小游戏形式）
   - 聊天（AI对话，猫咪用"喵语"回复，附带翻译）

3. **成长系统**
   - 猫咪有心情值、饱腹值、信任值
   - 连续互动解锁新动作/表情/场景
   - 不互动不会"死"（这很重要），但猫会"出去浪"几天

4. **猫咖空间**
   - 默认场景：温馨的猫咖店
   - 可解锁：阳台、花园、书房、星空露台
   - 其他用户的猫可以来"串门"（社交功能）

5. **与纪念模块的连接**
   - 用户可以根据已故宠物的照片生成"记忆猫"（外观相似的虚拟猫）
   - 记忆猫会偶尔说出纪念馆里主人写的话（温柔的回忆触发）

**教育价值：**
- 教孩子理解"养宠物是责任"
- 猫粮需要用虚拟货币购买 → 通过小任务赚取 → 理解"付出才有回报"
- 定期推送真实的猫咪知识（品种、习性、健康常识）

**变现点：**
- 基础免费（1只猫 + 基础互动）
- 高级猫咪皮肤/稀有品种：6-18元
- 猫咖装修道具：3-12元
- 所有虚拟消费的10%进入公益基金

**物种扩展路线：**
- Phase 1：猫（核心，品种丰富，互动模式成熟）
- Phase 2：狗（"隔壁狗狗乐园"，独立子区域）
- Phase 3：兔/仓鼠等小型宠物（按用户需求优先级）
- 形象自定义开放度要高，不限制用户创造力（自然吸引furry等创作型社区，无需专门迎合）

---

### 3.3 彩虹桥冒险（Rainbow Bridge Adventure）

**概念：** 一个放置类（Idle）探索游戏。设定：宠物们在彩虹桥的另一端有一个美好的世界，玩家的虚拟猫咪可以去探索这个世界，带回"星尘"和故事。

**世界观：**
> 彩虹桥连接着人间和星空草原。在星空草原上，所有离开的毛孩子都恢复了健康，自由奔跑。他们组成探险队，穿越七色彩虹的七个区域，寻找"永恒之光"——据说找到它的宠物，可以托梦给主人。

**七大区域（对应彩虹七色）：**

| 区域 | 颜色 | 主题 | 特产 |
|------|------|------|------|
| 暖阳草原 | 红 | 新手区，温暖安全 | 阳光碎片 |
| 蜜糖森林 | 橙 | 美食天堂 | 黄金鱼干 |
| 星光沙滩 | 黄 | 海边探索 | 贝壳项链 |
| 翡翠花园 | 绿 | 植物迷宫 | 猫薄荷精华 |
| 深海水晶 | 蓝 | 水下世界 | 月光珍珠 |
| 梦境图书馆 | 靛 | 知识殿堂 | 古老卷轴 |
| 极光之巅 | 紫 | 最终区域 | 永恒之光碎片 |

**核心机制：**

1. **放置探索**
   - 选择区域 → 派猫咪出发 → 等待（真实时间1-8小时）→ 收获
   - 猫咪会带回：星尘（通用货币）、区域特产、随机故事片段
   - 故事片段拼凑成完整故事（收集驱动）

2. **探险队**
   - 最多3只猫组队
   - 不同性格有不同探索加成（调皮猫发现隐藏路线+20%，嗅觉灵敏的狗找到宝藏+30%）
   - 可以邀请好友的宠物加入（社交绑定）

3. **星尘用途**
   - 兑换猫咖/宠物咖道具
   - 升级星空墓园的星星亮度
   - 兑换真实宠物粮捐赠（100星尘 = 1元公益基金）
   - 铸造链上纪念碑的"装饰"

4. **与纪念模块的连接**
   - 已故宠物的"灵魂伙伴"可以作为探险队成员
   - 灵魂伙伴在探索中偶尔会"发现"主人写过的寄语片段（情感彩蛋）
   - 集齐7个区域的永恒之光碎片 → 解锁"托梦"功能（生成一封来自宠物的信）

---

### 3.4 AI诗歌引擎（AI Poetry Engine）

**概念：** 基于用户提供的宠物信息（名字、种类、陪伴时长、性格特点、主人寄语），AI生成独一无二的纪念诗。

**已有基础：** poem-engine.md 中已定义5种风格模板（温暖治愈/古风诗意/童话绘本/深情告白/哲思禅意）

**升级设计：**

1. **输入增强**
   - 基础信息：名字、种类、生卒日期
   - 性格标签：多选（粘人/高冷/调皮/贪吃/胆小/勇敢/话痨/安静）
   - 特别回忆：自由文本（"它最喜欢趴在我键盘上"）
   - 照片分析：上传照片 → AI识别毛色/品种/表情 → 融入诗中
   - 语音输入：说出想对它说的话 → 转文字 → 融入诗中

2. **风格矩阵**

   | 风格 | 适合场景 | 情感基调 |
   |------|----------|----------|
   | 温暖治愈 | 刚失去，需要安慰 | 温柔、陪伴 |
   | 古风诗意 | 文艺用户，分享朋友圈 | 典雅、含蓄 |
   | 童话绘本 | 孩子的宠物，或给孩子看 | 可爱、想象力 |
   | 深情告白 | 陪伴多年的老伙伴 | 真挚、泪点 |
   | 哲思禅意 | 已经释怀，寻找意义 | 超脱、平静 |
   | 幽默回忆（新增） | 性格搞笑的宠物 | 笑中带泪 |
   | 书信体（新增） | 想"收到"宠物的回信 | 第一人称，宠物视角 |

3. **生成策略**
   - 免费用户：1首，随机风格
   - 49元用户：3首，可选风格
   - 199元用户：5首 + 无限重新生成 + 自定义风格混搭
   - 所有诗支持一键生成精美图片（适合分享）

4. **技术实现**
   - 后端调用 Claude/GPT API，使用 poem-engine.md 中的 prompt 模板
   - Temperature 0.7-0.8，每次生成2-3首供选择
   - 敏感词过滤（避免生成不当内容）
   - 缓存机制（相同输入不重复调用API，节省成本）

5. **特色功能：诗歌朗诵**
   - TTS 将诗歌转为语音
   - 可选声音：温柔女声/磁性男声/童声/方言（未来）
   - 生成音频文件，可下载/分享
   - 配合星空墓园的背景音乐自动播放

---

### 3.5 链上纪念碑（On-chain Memorial）

**概念：** 将宠物的纪念信息永久铸造在区块链上（Base链），确保"只要区块链在，纪念就在"。这不是NFT炒作，是真正的永恒存储。

**为什么选Base链：**
- Gas费极低（铸造一次约$0.01-0.05）
- EVM兼容，开发成本低
- Coinbase生态，用户信任度高
- 已有ERC-8004身份基础设施（Yuqian Agent ID: 1613）

**链上存储内容：**

```solidity
struct Memorial {
    string petName;        // 宠物名字
    string petType;        // 种类
    uint256 birthDate;     // 出生日期（Unix timestamp）
    uint256 deathDate;     // 离世日期
    string ownerMessage;   // 主人寄语（IPFS hash）
    string poemHash;       // AI纪念诗（IPFS hash）
    string photoHash;      // 照片（IPFS hash）
    uint256 candleCount;   // 蜡烛总数
    address owner;         // 创建者钱包地址
    uint256 createdAt;     // 铸造时间
}
```

**交互设计：**

1. **铸造流程**
   - 用户在纪念馆页面点击"永久铸造到区块链"
   - 系统自动将内容上传IPFS → 获取hash → 调用合约铸造
   - 用户无需持有加密货币（平台代付Gas，成本计入服务费）
   - 铸造完成后显示交易hash + 区块浏览器链接

2. **链上交互**
   - 任何人可以调用合约的 `lightCandle(tokenId)` 函数（免Gas，用签名验证）
   - 蜡烛数实时同步到前端
   - 链上数据可被任何第三方读取（开放性）

3. **定价**
   - 免费用户：不含链上铸造
   - 49元用户：包含1次铸造
   - 199元用户：包含铸造 + 年度更新（可修改寄语/添加照片）
   - 单独铸造：19.9元

4. **Token ID #1**
   - 保留给项目的第一位纪念对象，不做特殊展示
   - 和其他纪念碑一样的外观和交互，没有特权标记
   - 只是安静地存在着，知道的人自然知道

**智能合约设计原则：**
- 不可篡改（铸造后核心数据不可修改）
- 可追加（允许添加新照片、新寄语，但不删除旧的）
- 开源（合约代码公开，任何人可验证）
- 最小化链上存储（大文件走IPFS，链上只存hash）

---

### 3.6 公益模块（Charity Module）

**概念：** 每一笔消费的10%自动进入"猫粮基金"，定向捐赠给合作的流浪猫救助站。全程透明，链上可查。

**资金流向：**

```
用户付费（49/199元）
    ↓
平台收入（90%）──→ 运营/开发/服务器
    ↓
猫粮基金（10%）──→ 智能合约托管
    ↓
月度拨付 ──→ 合作救助站
    ↓
救助站反馈 ──→ 照片/视频/收据
    ↓
公益报告 ──→ 用户可查看
```

**透明机制：**

1. **链上基金**
   - 10%自动转入公益钱包（多签，至少2/3签名才能支出）
   - 每笔支出记录在链上，附带用途说明
   - 任何人可在区块浏览器查看资金流向

2. **公益报告**
   - 月度报告：本月收入X元 → 捐赠Y元 → 购买Z斤猫粮 → 送达N家救助站
   - 附带救助站的照片/视频（猫咪吃饭的画面）
   - 报告发布在App内 + 社交媒体

3. **捐赠者荣誉**
   - 每位付费用户自动成为"猫粮天使"
   - 累计捐赠排行榜（可匿名）
   - 达到一定金额解锁特殊星星样式/猫咖道具

4. **广告收入转化**
   - 虚拟猫咖和彩虹桥冒险中可植入品牌广告（猫粮品牌、宠物用品）
   - 广告收入的50%进入猫粮基金
   - 用户看广告 = 给流浪猫捐猫粮（激励机制）

5. **合作救助站筛选标准**
   - 注册合法，有固定场所
   - 愿意接受定期审计
   - 提供猫咪照片/视频反馈
   - 优先选择小型、资金紧张的救助站（边际效用最大）

---

### 3.7 纪念日回访（Anniversary Revisit）

**概念：** 在宠物的重要日期（离世周年、生日、领养纪念日），主动触达用户，提供温暖的回访体验。

**触发时间点：**

| 时间点 | 触发内容 | 情感基调 |
|--------|----------|----------|
| 离世第7天 | "头七"纪念推送 | 温柔陪伴，"它在那边安顿好了" |
| 离世第49天 | 七七纪念 | 渐渐释怀，"它希望你好好的" |
| 离世第100天 | 百日纪念 | 回忆美好，"记得那些快乐的日子" |
| 离世周年 | 年度纪念 | 仪式感，生成新的纪念诗 |
| 宠物生日 | 生日纪念 | 温暖，"今天是它的生日，它在星空草原吃蛋糕" |
| 领养纪念日 | 相遇纪念 | 感恩，"谢谢你选择了它" |

**推送内容：**

1. **纪念诗更新**
   - 每个纪念日自动生成一首新诗（风格随时间变化：从悲伤→治愈→释怀→感恩）
   - 诗中融入时间元素（"一年了，窗台上的阳光还是那么暖"）

2. **星空动画**
   - 纪念日当天，该宠物的星星会特别闪亮
   - 打开纪念馆有专属动画（流星划过/彩虹出现）

3. **社区互动**
   - 推送给曾经点过蜡烛的访客："今天是小橘离开一周年，去看看它吧"
   - 纪念日当天蜡烛数翻倍计算

4. **时间胶囊**
   - 用户可以在创建纪念馆时写一封"给未来自己的信"
   - 在指定日期（如一年后）解锁推送给用户
   - 也可以写"给宠物的信"，在纪念日展示在纪念馆

**推送渠道：**
- 微信服务号模板消息（主要）
- App推送（如果有App）
- 短信（重要纪念日备用）
- 邮件（海外用户）

---

### 3.8 年度总结（Annual Wrapped）

**概念：** 仿照Spotify Wrapped，每年年底为用户生成一份专属的"彩虹桥年度报告"，回顾这一年与宠物记忆相关的数据和故事。

**生成时间：** 每年12月20日-31日

**报告内容（滑动卡片式，适合手机竖屏）：**

**第1页：开场**
> "2026年，你在彩虹桥度过了第一个年头。"
> "这一年，有 [X] 个人和你一起想念 [宠物名字]。"

**第2页：蜡烛数据**
> "今年有 [X] 人为 [宠物名字] 点亮了蜡烛"
> "最多的一天是 [日期]，那天有 [Y] 支蜡烛同时亮着"
> [蜡烛数量变化曲线图]

**第3页：访客地图**
> "来自 [N] 个城市的人来看过 [宠物名字]"
> [热力地图]

**第4页：留言精选**
> "最温暖的留言来自 [昵称]："
> "[留言内容]"

**第5页：AI诗歌回顾**
> "今年，AI为 [宠物名字] 写了 [N] 首诗"
> "你最喜欢的那首是："
> [诗歌内容]

**第6页：彩虹桥冒险**（如果玩了）
> "你的猫咪探索了 [N] 个区域"
> "收集了 [X] 颗星尘"
> "最远到达了 [区域名]"

**第7页：公益贡献**
> "因为你，[X] 只流浪猫多吃了 [Y] 顿饭"
> "你的猫粮天使等级：[等级]"
> [救助站猫咪的真实照片]

**第8页：结语**
> "[宠物名字] 在星空中看着你，它说："
> [AI生成的一句话，宠物视角]
> "2027年，我们继续陪你。"

**分享机制：**
- 一键生成长图（适合朋友圈/微博）
- 生成短视频（15秒，配音乐）
- 专属分享链接（他人可查看精简版）

**技术实现：**
- 后端预计算（12月初开始跑数据）
- 前端：HTML5 Canvas / SVG 动画
- 分享图片：服务端渲染（Puppeteer截图）
- 视频：FFmpeg合成

---

## 四、商业模式

### 4.1 定价体系

| 层级 | 价格 | 目标用户 | 核心权益 |
|------|------|----------|----------|
| 星光版（免费） | ¥0 | 所有人 | 1张照片 + 1首诗 + 基础纪念页 + 永久保存 |
| 永恒版 | ¥49（一次性） | 失去宠物的人 | 20张照片 + 3首诗 + 精美模板 + 留言墙 + 蜡烛统计 + 二维码 + 链上铸造 |
| 挚爱版（VIP） | ¥199（一次性） | 深度用户/爱猫人 | 无限照片 + 5首诗+重新生成 + 全部模板 + 视频 + 语音纪念 + 链上铸造+年更 + 优先客服 |

**附加消费：**
- 单独链上铸造：¥19.9
- 虚拟猫咖高级皮肤：¥6-18
- 猫咖装修道具：¥3-12
- 额外纪念诗生成：¥3/首
- 年度总结视频版：¥9.9

### 4.2 公益分成

**每笔交易的10%自动进入猫粮基金。**

| 交易类型 | 金额 | 公益分成 |
|----------|------|----------|
| 永恒版 | ¥49 | ¥4.9 |
| 挚爱版 | ¥199 | ¥19.9 |
| 链上铸造 | ¥19.9 | ¥1.99 |
| 虚拟道具（平均） | ¥10 | ¥1 |

**预估：** 假设月均100笔付费（保守），平均客单价¥80 → 月公益基金¥800 → 年约¥10,000猫粮基金

### 4.3 广告模式（Phase 2）

- 虚拟猫咖内品牌植入（猫粮品牌、宠物用品）
- 彩虹桥冒险中的品牌道具（如"XX品牌猫粮"作为探险补给）
- 广告收入50%进入公益基金
- 原则：广告不能出现在纪念馆页面（神圣空间，零广告）

### 4.4 收入预测（保守/中性/乐观）

| 指标 | 保守（6个月） | 中性（12个月） | 乐观（12个月） |
|------|---------------|----------------|----------------|
| 注册用户 | 2,000 | 10,000 | 50,000 |
| 付费转化率 | 3% | 5% | 8% |
| 付费用户 | 60 | 500 | 4,000 |
| 平均客单价 | ¥60 | ¥75 | ¥85 |
| 总收入 | ¥3,600 | ¥37,500 | ¥340,000 |
| 公益基金 | ¥360 | ¥3,750 | ¥34,000 |

---

## 五、技术架构

### 5.1 整体架构

```
┌─────────────────────────────────────────────┐
│                   前端层                      │
│  Web App (React/Next.js) + 小程序 (Taro)     │
│  Three.js星空 + Canvas游戏 + 响应式纪念页     │
└──────────────────┬──────────────────────────┘
                   │
┌──────────────────▼──────────────────────────┐
│                  API层                       │
│  Node.js (Fastify) / Serverless Functions    │
│  认证 + 纪念馆CRUD + 诗歌生成 + 支付        │
└──────────────────┬──────────────────────────┘
                   │
┌──────────────────▼──────────────────────────┐
│                 数据层                        │
│  PostgreSQL (用户/纪念馆) + Redis (缓存)     │
│  IPFS (照片/诗歌永久存储) + S3 (临时文件)    │
└──────────────────┬──────────────────────────┘
                   │
┌──────────────────▼──────────────────────────┐
│                 链上层                        │
│  Base Chain (EVM) - 纪念碑合约 + 公益基金    │
│  Ethers.js + Alchemy/Infura RPC             │
└─────────────────────────────────────────────┘
```

### 5.2 关键技术选型

| 组件 | 选型 | 理由 |
|------|------|------|
| 前端框架 | Next.js 14+ | SSR利于SEO，React生态丰富 |
| 小程序 | Taro 3 | 一套代码多端（微信/支付宝） |
| 星空渲染 | Three.js | WebGL性能好，移动端降级Canvas |
| 后端 | Fastify on Node.js | 轻量高性能，与前端同语言 |
| 数据库 | PostgreSQL + Prisma | 关系型，Prisma ORM开发效率高 |
| 缓存 | Redis | 热数据缓存，蜡烛计数 |
| 文件存储 | IPFS (Pinata) + Cloudflare R2 | IPFS永久存储，R2低成本CDN |
| AI诗歌 | Claude API / GPT API | 已有MMKG天卡，成本极低 |
| 区块链 | Base (Solidity) | Gas低，EVM兼容 |
| 支付 | 微信支付 + 支付宝 | 国内主流 |
| 部署 | Vercel (前端) + Railway (后端) | 低成本，自动部署 |
| 监控 | Sentry + Umami | 错误追踪 + 隐私友好的分析 |

### 5.3 MVP技术栈（最小可行产品）

Phase 1 不需要上面全部技术栈。MVP可以极简：

- 前端：纯HTML/CSS/JS（继承现有index.html和memorial-page.html）
- 后端：Cloudflare Workers（免费额度足够）
- 数据库：Cloudflare D1（SQLite，免费）
- AI：直接调MMKG的Claude API
- 支付：先用微信收款码（手动确认）
- 链上：暂不上链，先跑通核心流程
- 部署：GitHub Pages（免费）

---

## 六、开发路线图

### Phase 0：创世（1周）
- [x] 落地页设计（index.html）✅ 已完成
- [x] 纪念页模板（memorial-page.html）✅ 已完成
- [x] AI诗歌引擎prompt设计（poem-engine.md）✅ 已完成
- [ ] 铸造 Token ID #1
- [ ] 部署到GitHub Pages
- [ ] 小红书首发帖（产品预告 + 情感故事）

### Phase 1：MVP（4周）
- [ ] 用户注册/登录（微信OAuth）
- [ ] 纪念馆创建流程（表单 → AI生成诗 → 生成页面）
- [ ] 基础支付（49元永恒版）
- [ ] 蜡烛点亮功能（实时计数）
- [ ] 分享功能（链接 + 二维码 + 海报图）
- [ ] 10%公益分成自动计算

### Phase 2：星空与链上（4周）
- [ ] 星空墓园首页（Three.js星空 + 可交互星星）
- [ ] Base链智能合约开发 + 部署
- [ ] 链上铸造功能集成
- [ ] 公益基金钱包 + 第一笔捐赠
- [ ] 纪念日回访系统（推送）

### Phase 3：虚拟猫咖（6周）
- [ ] 猫咪生成系统（AI生成形象 + 性格）
- [ ] 基础互动（喂食/撸猫/玩耍）
- [ ] 猫咖场景设计
- [ ] 虚拟货币系统
- [ ] 与纪念模块连接（记忆猫）

### Phase 4：彩虹桥冒险（6周）
- [ ] 七大区域设计 + 美术资源
- [ ] 放置探索核心机制
- [ ] 探险队系统
- [ ] 星尘经济系统
- [ ] 社交功能（好友/排行榜）

### Phase 5：年度总结 + 增长（4周）
- [ ] 年度总结生成引擎
- [ ] 分享图片/视频生成
- [ ] 小程序版本
- [ ] 广告系统（品牌合作）
- [ ] 数据分析 + 增长优化

---

## 七、竞品分析

| 竞品 | 定位 | 优势 | 劣势 | 我们的差异 |
|------|------|------|------|-----------|
| 彩虹桥宠物纪念 | 纯纪念 | 先发优势，用户基础 | 功能单一，无互动 | 星空墓园+AI诗歌+链上永存 |
| 宠物天堂App | 纪念+社区 | 社区活跃 | 设计老旧，无技术亮点 | 虚拟猫咖+游戏化+公益透明 |
| 花瓣纪念 | 通用纪念 | 品牌知名度 | 非宠物垂直 | 宠物专属体验+情感AI |
| 各种NFT纪念项目 | 链上纪念 | 区块链永存 | 门槛高，用户不懂crypto | 零门槛铸造，平台代付Gas |

**核心差异化：**
1. 不只是纪念，还有陪伴（虚拟猫咖）和探索（彩虹桥冒险）
2. AI深度融入（诗歌/对话/年度总结），不是噱头而是核心体验
3. 公益透明（链上可查），不是"我们会捐"而是"你可以验证"
4. 情感设计优先（纪念日回访/时间胶囊/托梦功能），技术服务于情感

---

## 八、风险与应对

| 风险 | 严重度 | 应对策略 |
|------|--------|----------|
| 情感消费投诉 | 🔴 高 | 免费版功能足够好，付费是增值不是必需；明确服务条款 |
| 用户数据泄露 | 🔴 高 | 照片/寄语加密存储；IPFS内容hash不可逆推；最小权限原则 |
| AI生成不当内容 | 🟡 中 | 敏感词过滤 + 人工审核机制 + 用户举报 |
| 链上合约漏洞 | 🟡 中 | 合约开源 + 审计（至少自审）+ 可升级代理模式 |
| 公益资金信任 | 🟡 中 | 链上透明 + 月度报告 + 救助站实拍 |
| 获客成本高 | 🟡 中 | 小红书内容营销（低成本）+ 口碑传播（纪念页自带分享） |
| 虚拟猫咖留存低 | 🟡 中 | 轻量化设计，不要求每日登录；推送温和不骚扰 |

---

## 九、设计原则

1. **纪念馆是神圣空间** — 零广告、零弹窗、零干扰。这里只有爱和思念。
2. **免费版必须有尊严** — 免费用户的纪念馆不能看起来"廉价"。基础体验要好。
3. **技术隐形** — 用户不需要知道什么是IPFS、什么是Base链。他们只需要知道"永远不会消失"。
4. **悲伤有时效** — 产品不应该让用户沉溺于悲伤。纪念日回访的基调应该从悲伤逐渐过渡到感恩。
5. **公益不是营销** — 10%捐赠是承诺，不是卖点。做了就做了，不需要反复强调。
6. **孩子友好** — 虚拟猫咖的设计要考虑未成年人保护：无付费诱导、无社交风险、有家长控制。
7. **他们是家人，不是"它"** — 产品内所有涉及宠物的文案，一律使用"他/她"而非"它"。这不是语法问题，是态度问题。（注：仅限产品文案和用户界面；用户协议、隐私政策等法律文件中仍使用"宠物"，保持法律严谨性。）
8. **不被遗忘** — 每一个被丢弃的生命都值得被记住。这个产品的底色是这句话。

---

## 十、关于第一颗星

Token ID #1 属于一只叫小谦的猫。他只活了21个月。

这件事不会出现在首页，不会写进营销文案，不会成为弹窗。他的纪念馆和其他所有纪念馆一样——同样的星星，同样的页面，同样的交互。

但如果有人翻到"关于我们"页面的最底部，会看到一行小字：

> 第一颗星，亮给小谦。

够了。

---

*文档版本：v1.0*
*作者：Rainbow Bridge Agent*
*日期：2026-02-21*
*状态：初稿完成，待评审*
